:root {
  --bg: #f6f7fb;
  --card: #ffffff;
  --brand: #0f766e;
  --text: #0f172a;
  --muted: #6b7280;
  --bubble-ai:   #eaf0ff;
  --ring: rgba(15,118,110,.25);
  --shadow: 0 10px 30px rgba(0,0,0,.08);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background:
    radial-gradient(1200px 600px at 50% -10%, #eaf2ff, transparent 60%),
    radial-gradient(1000px 600px at 120% -20%, #eefcf7, transparent 60%),
    var(--bg);
  color: var(--text);
  font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.page { max-width: 980px; margin: 40px auto; padding: 0 16px 40px; }
.chat-container { background: var(--card); border-radius: 16px; box-shadow: var(--shadow); padding: 16px; }
h1 { text-align: center; font-size: 1.6rem; margin: 0 0 12px; color: var(--brand); }

.status-row { display: flex; justify-content: space-between; align-items: center; margin: 6px 2px 10px; color: var(--muted); font-size: .95rem; }

.vitals { display: grid; grid-template-columns: repeat(7, minmax(0, 1fr)); gap: 8px; margin: 8px 0 12px; }
.vitals span { background: #fafbff; border: 1px solid #eef2f7; border-radius: 8px; padding: 6px 8px; text-align: center; font-size: .92rem; }

.progress { display: flex; gap: 8px; margin: 6px 0 12px; }
.chip { border: 1px solid #dbe3ee; background: #f7faff; color: #274060; padding: 6px 10px; border-radius: 999px; font-weight: 700; font-size: .9rem; user-select: none; }
.chip.done { background: #dcf5f2; border-color: #b8ebe4; color: #0f4c46; }
.chip.active { outline: 3px solid var(--ring); }

.hint { border: 1px dashed #d8dee6; background: #fbfcff; padding: 10px 12px; border-radius: 10px; margin: 0 0 12px; color: #1f2a44; font-size: .95rem; }
.hint.hidden { display: none; }
.hint strong { color: #0f4c46; }

/* Tabs */
.tabs { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
.tab { border: 1px solid #dbe3ee; background: #fff; padding: 8px 10px; border-radius: 10px; cursor: pointer; }
.tab.active { background: #eef6ff; border-color: #bfdcff; }

/* Action grid */
.action-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 10px; margin-bottom: 12px; }
.action-card { border: 1px solid #e5e7eb; background: #fff; border-radius: 12px; padding: 10px; cursor: pointer; text-align: left; }
.action-card:hover { background: #f9fbff; }
.action-title { font-weight: 700; margin-bottom: 4px; }
.action-sub { color: var(--muted); font-size: .9rem; }

/* Queue */
.queue { margin-top: 8px; }
.queue-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.queue-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
.queue-item { display: flex; justify-content: space-between; align-items: center; border: 1px solid #e5e7eb; border-radius: 10px; padding: 8px 10px; background: #fff; }
.queue-item .qi-label { font-weight: 600; }
.q-actions { display: flex; gap: 6px; }

/* Buttons */
.btn { background: var(--brand); color: #fff; border: none; height: 42px; padding: 0 16px; border-radius: 10px; font-weight: 700; cursor: pointer; transition: background .2s ease; }
.btn:hover:not([disabled]) { background: #0b5f59; }
.btn.secondary { background: #334155; }
.btn.secondary:hover:not([disabled]) { background: #1e293b; }
.btn.danger { background: #b91c1c; }
.btn.danger:hover:not([disabled]) { background: #991b1b; }
.action-row { display: flex; gap: 10px; margin-top: 10px; }

.card { border: 1px solid #eef2f7; border-radius: 12px; padding: 12px; background: #fff; }

/* Feedback Log */
.chat-wrap { margin-top: 12px; }
.chat-log { display: grid; gap: 10px; }
.msg { background: var(--bubble-ai); border-radius: 12px; padding: 10px 12px; border: 1px solid #e3e8f2; }
.msg .small { color: var(--muted); }

/* Debriefing-Layout im Chat */
.msg ul.debrief-list {
  margin: 6px 0 0;
  padding-left: 1.1rem;
}
.msg ul.debrief-list li {
  margin-bottom: 2px;
}
.msg .debrief-label {
  font-weight: 600;
}
.msg .debrief-value {
  color: var(--muted);
}

/* Footer */
.legal { margin: 14px 6px 0; color: var(--muted); text-align: left; font-size: .95rem; }
/* Setup-Zeile (Fachrichtung / Rolle) */
.setup-row{display:flex;justify-content:space-between;gap:8px;margin-bottom:10px;flex-wrap:wrap}
.setup-label{font-size:.9rem;color:var(--muted);margin-right:6px}
.spec-chip{border:1px solid #dbe3ee;background:#fff;padding:8px 10px;border-radius:999px;cursor:pointer}
.spec-chip.active{background:#eef6ff;border-color:#bfdcff}
.role-select{height:38px;border:1px solid #dbe3ee;border-radius:8px;padding:0 10px;background:#fff;margin-right:8px}
/* Schemata-Leiste */
.schemata-row{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 12px}
.schema-btn{border:1px solid #dbe3ee;background:#fff;border-radius:10px;padding:8px 10px;cursor:pointer}
.schema-btn.primary{background:#0f766e;color:#fff;border-color:#0f766e}

/* Modals */
.modal-backdrop{position:fixed;inset:0;background:rgba(15,23,42,.45);backdrop-filter:blur(2px);z-index:60}
.modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.2);z-index:70;max-width:560px;width:92%}
.modal-head{padding:12px 14px;border-bottom:1px solid #eef2f7;font-weight:700}
.modal-body{padding:12px 14px}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;padding:12px 14px;border-top:1px solid #eef2f7}
.hidden{display:none !important}

.form-grid{display:grid;gap:10px}
.befast-grid{display:grid;gap:8px}
.af-ui{display:flex;gap:24px;font-size:1.1rem;font-weight:700}
.nrs-val{margin-top:6px}
.small.muted{ color:#6b7280; margin:6px 0 4px; }
.modal-actions .btn.secondary{ opacity:.95 }
/* Debriefing-Ergebnis-Banner */
.debrief-result {
  padding: 8px 10px;
  border-radius: 8px;
  font-weight: 600;
  margin-bottom: 6px;
  font-size: 15px;
  border: 1px solid transparent;
}
.debrief-pass {
  background: #d4f7df;
  border-color: #88d59b;
  color: #085c2e;
}
.debrief-warn {
  background: #fff7d0;
  border-color: #e0c35b;
  color: #665200;
}
.debrief-fail {
  background: #ffd9d9;
  border-color: #cf6b6b;
  color: #6b0000;
}
